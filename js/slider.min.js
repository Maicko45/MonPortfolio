!function(){var sliderCanvas=document.querySelector(".pieces-slider__canvas"),imagesEl=[].slice.call(document.querySelectorAll(".pieces-slider__image")),textEl=[].slice.call(document.querySelectorAll(".pieces-slider__text")),slidesLength=imagesEl.length,currentIndex=0,currentImageIndex,currentTextIndex,currentNumberIndex;function updateIndexes(){currentTextIndex=(currentImageIndex=3*currentIndex)+1,currentNumberIndex=currentImageIndex+2}updateIndexes();for(var textIndexes=[],numberIndexes=[],windowWidth=window.innerWidth,piecesSlider,imageOptions={angle:45,extraSpacing:{extraX:100,extraY:200},piecesWidth:function(){return Pieces.random(50,200)},ty:function(){return Pieces.random(-400,400)}},textOptions={color:"white",backgroundColor:"#009fe3",fontSize:function(){return windowWidth>720?50:30},padding:"15 20 10 20",angle:-45,piecesSpacing:2,extraSpacing:{extraX:0,extraY:300},piecesWidth:function(){return Pieces.random(50,200)},ty:function(){return Pieces.random(-200,200)},translate:function(){return windowWidth>1120?{translateX:200,translateY:200}:windowWidth>720?{translateX:0,translateY:200}:{translateX:0,translateY:100}}},numberOptions={color:"white",backgroundColor:"#009fe3",fontSize:function(){return windowWidth>720?60:20},padding:function(){return windowWidth>720?"18 35 10 38":"18 25 10 28"},angle:0,piecesSpacing:2,extraSpacing:{extraX:10,extraY:10},piecesWidth:35,ty:function(){return Pieces.random(-200,200)},translate:function(){return windowWidth>1120?{translateX:-340,translateY:-180}:windowWidth>720?{translateX:-240,translateY:-180}:{translateX:-140,translateY:-100}}},items=[],imagesReady=0,i=0;i<slidesLength;i++){var slideImage=new Image;slideImage.onload=function(){++imagesReady==slidesLength&&(initSlider(),initEvents())},items.push({type:"image",value:imagesEl[i],options:imageOptions}),items.push({type:"text",value:textEl[i].innerText,options:textOptions}),items.push({type:"text",value:i+1,options:numberOptions}),textIndexes.push(3*i+1),numberIndexes.push(3*i+2),slideImage.src=imagesEl[i].src}function initSlider(){piecesSlider&&piecesSlider.stop(),(piecesSlider=new Pieces({canvas:sliderCanvas,items:items,x:"centerAll",y:"centerAll",piecesSpacing:1,fontFamily:["'Helvetica Neue', sans-serif"],animation:{duration:function(){return Pieces.random(1e3,2e3)},easing:"easeOutQuint"}})).animateItems({items:numberIndexes,duration:2e4,angle:360,loop:!0}),showItems()}function initEvents(){document.querySelector(".pieces-slider__button--prev").addEventListener("click",prevItem),document.querySelector(".pieces-slider__button--next").addEventListener("click",nextItem),document.addEventListener("keydown",function(e){37==e.keyCode?prevItem():39==e.keyCode&&nextItem()}),window.addEventListener("resize",resizeStart)}function showItems(){piecesSlider.showPieces({items:currentImageIndex,ignore:["tx"],singly:!0,update:anim=>{if(anim.progress>60){var piece=anim.animatables[0].target,ty=piece.ty;anime.remove(piece),anime({targets:piece,ty:piece.h_ty<300?[{value:ty+10,duration:1e3},{value:ty-10,duration:2e3},{value:ty,duration:1e3}]:[{value:ty-10,duration:1e3},{value:ty+10,duration:2e3},{value:ty,duration:1e3}],duration:2e3,easing:"linear",loop:!0})}}}),piecesSlider.showPieces({items:currentTextIndex}),piecesSlider.showPieces({items:currentNumberIndex,ty:function(p,i){return p.s_ty-[-3,3][i%2]}})}function hideItems(){piecesSlider.hidePieces({items:[currentImageIndex,currentTextIndex,currentNumberIndex]})}function prevItem(){hideItems(),currentIndex=currentIndex>0?currentIndex-1:slidesLength-1,updateIndexes(),showItems()}function nextItem(){hideItems(),currentIndex=currentIndex<slidesLength-1?currentIndex+1:0,updateIndexes(),showItems()}var initial=!0,hideTimer,resizeTimer;function resizeStart(){initial&&(initial=!1,hideTimer&&clearTimeout(hideTimer),sliderCanvas.classList.add("pieces-slider__canvas--hidden")),resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout(resizeEnd,300)}function resizeEnd(){initial=!0,windowWidth=window.innerWidth,initSlider(),hideTimer=setTimeout(()=>{sliderCanvas.classList.remove("pieces-slider__canvas--hidden")},500)}}();